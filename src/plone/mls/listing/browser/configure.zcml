<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    i18n_domain="plone.mls.listing">


  <browser:page
      class=".recent_listings.RecentListingsConfiguration"
      for="*"
      layer=".interfaces.IListingSpecific"
      name="recent-listings-config"
      permission="zope2.View"
      />

  <browser:page
      class=".recent_listings.RecentListings"
      for="*"
      layer=".interfaces.IListingSpecific"
      name="recent-listings-view"
      permission="zope2.View"
      template="templates/recent_listings.pt"
      />


  <!-- Listing Details. -->
  <!-- ================ -->
  <browser:page
      class=".views.ListingDetails"
      for="plone.mls.listing.content.listing.IListing"
      layer=".interfaces.IListingSpecific"
      name="view"
      permission="zope2.View"
      />

  <browser:page
      class=".views.ListingDetails"
      for="*"
      layer=".interfaces.IListingSpecific"
      name="listing-detail"
      permission="zope2.View"
      />

  <browser:page
      class=".views.ListingNavigationBreadcrumbs"
      for="plone.mls.listing.content.recent_listings.IRecentListings"
      layer=".interfaces.IListingSpecific"
      name="breadcrumbs_view"
      permission="zope.Public"
      allowed_attributes="breadcrumbs"
      />


  <!-- Recent Listings. -->
  <!-- ================ -->
  <!-- Default view for plone.mls.listing.recentlistings. -->
  <browser:page
      class=".views.RecentListings"
      for="plone.mls.listing.content.recent_listings.IRecentListings"
      layer=".interfaces.IListingSpecific"
      name="view"
      permission="zope2.View"
      template="templates/recent_listings.pt"
      />

  <!-- Standalone view for recent listings. -->
  <browser:page
      class=".views.RecentListings"
      for="*"
      layer=".interfaces.IListingSpecific"
      name="recent-listings"
      permission="zope2.View"
      template="templates/recent_listings.pt"
      />


  <!-- Zope 3 browser resources. -->
  <!-- ========================= -->
  <browser:resourceDirectory
      directory="images"
      layer=".interfaces.IListingSpecific"
      name="plone.mls.listing.images"
      />

  <browser:resourceDirectory
      directory="javascript"
      layer=".interfaces.IListingSpecific"
      name="plone.mls.listing.javascript"
      />

  <browser:resourceDirectory
      directory="stylesheets"
      layer=".interfaces.IListingSpecific"
      name="plone.mls.listing.stylesheets"
      />


  <!-- Traversing Adapter. -->
  <!-- =================== -->
  <adapter
      for="plone.mls.listing.content.recent_listings.IRecentListings
           zope.publisher.interfaces.browser.IBrowserRequest"
      provides="zope.publisher.interfaces.browser.IBrowserPublisher"
      factory=".traversal.RecentListingsTraverser"
      permission="zope2.View"
      />

</configure>
