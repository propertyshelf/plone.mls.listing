<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone.mls.listing">

  <body>
    <metal:main fill-slot="main">
      <div class="listing detail" metal:define-macro="main" tal:define="info view/info|nothing">
        <div tal:replace="structure provider:plone.abovecontenttitle" />

        <h1 class="documentFirstHeading" tal:content="view/title|nothing" />
        <p tal:condition="info/location|nothing" tal:content="info/location/value|nothing">Location</p>

        <div tal:replace="structure provider:plone.belowcontenttitle" />

        <p class="documentDescription" tal:content="view/description|nothing" />

        <div tal:replace="structure provider:plone.abovecontentbody" />

        <tal:error tal:define="error view/error|nothing" tal:condition="error">
            <p tal:content="error/standard|nothing">Error</p>
            <div class="extended" tal:define="extended error/extended|nothing" tal:condition="extended" tal:content="structure extended"></div>
        </tal:error>

        <tal:listing tal:condition="view/data|nothing">

          <div id="listing-info" tal:condition="info">
            <h2 i18n:translate="heading_listing_information_basic">Basic Listing Information</h2>
            <dl class="price">
              <tal:item tal:define="item info/price|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>
            </dl>
      
            <dl class="workflow">
              <tal:item tal:define="item info/id|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>
      
              <tal:item tal:define="item info/object_type|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>
      
              <tal:item tal:define="item info/listing_type|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>
      
              <tal:item tal:define="item info/wf_status|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value" tal:attributes="class item/value">Value</dd>
              </tal:item>
      
              <tal:item tal:define="item info/images|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>
            </dl>
      
            <dl>
              <tal:item tal:define="item info/bath_bed|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>
      
              <tal:item tal:define="item info/location_type|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>
      
              <tal:item tal:define="item info/view_type|nothing" tal:condition="item">
                <dt tal:content="item/label">Label</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>
            </dl>
          </div>

          <div id="listing-images">
            <h2 class="hiddenStructure" i18n:translate="heading_listing_images">Listing Images</h2>
            <a href="" rel="prettyPhoto[listing]" class="preview"
               tal:define="image view/lead_image|nothing"
               tal:condition="image"
               tal:attributes="href image/url;
                               title image/title|nothing;"><img src=""
               tal:attributes="src image/preview" /></a>
            <ul class="thumbnails" tal:define="images view/images|nothing" tal:condition="images" style="list-style: none; margin-left: 0;">
              <li tal:repeat="image images" style="display: inline-block; padding: 0.5em;"><a href="" rel="prettyPhoto[listing]"
                  tal:attributes="href image/url;
                                  title image/title|nothing;"><img src="" alt="" title=""
                  tal:attributes="src image/tile;
                                  alt image/title|nothing;
                                  title image/description|nothing" /></a></li>
            </ul>
          </div>

          <p tal:content="view/long_description|nothing" />
          
          <dl id="listing-details" class="enableFormTabbing" tal:define="groups view/groups|nothing" tal:condition="groups">
            <tal:groups tal:repeat="group groups">
              <tal:group tal:define="id group/id|nothing;
                                     label group/label|nothing;
                                     fields group/fields|nothing;"
                         tal:condition="fields">
                <dt tal:content="label"
                    tal:attributes="id string:fieldsetlegend-${id}">Group</dt>
                <dd tal:attributes="id string:fieldset-${id}">
                  <table class="listing vertical" style="width: 100%;">
                    <tbody>
                      <tal:field tal:repeat="field fields">
                        <tr tal:condition="field/value">
                          <th tal:content="field/label|nothing" style="width: 200px;">Label</th>
                          <td tal:content="structure field/value|nothing">Label</td>
                        </tr>
                      </tal:field>
                    </tbody>
                  </table>
                  <dl tal:replace="nothing">
                    <tal:fields tal:repeat="field fields">
                      <dt tal:content="field/label|nothing">Label</dt>
                      <dd tal:content="structure field/value|nothing">Value</dd>
                    </tal:fields>
                  </dl>
                </dd>
              </tal:group>
            </tal:groups>
          </dl>
        </tal:listing>

        <div tal:replace="structure provider:plone.belowcontentbody" />

      </div>
      <script type="text/javascript" src="++resource++plone.mls.listing.javascript/galleria-1.2.2.js"></script>
      <script type="text/javascript" src="++resource++plone.mls.listing.javascript/classic/galleria.classic.min.js"></script>
    </metal:main>
  </body>
</html>
