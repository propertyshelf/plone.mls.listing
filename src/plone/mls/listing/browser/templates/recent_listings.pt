<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone.mls.listing"
      tal:omit-tag="">
  <body>
    <section id="recent-listings" class="listing-summary"
             metal:fill-slot="main"
             tal:define="page_url context/@@plone_context_state/current_base_url">

      <div tal:replace="structure provider:plone.abovecontenttitle" />
      <h1 class="documentFirstHeading">Recent MLS Listings</h1>
      <div tal:replace="structure provider:plone.belowcontenttitle" />

      <p class="documentDescription" tal:content="context/description|nothing" />

      <div tal:replace="structure provider:plone.abovecontentbody" />

      <p tal:define="text context/body_text|nothing" tal:condition="text" tal:replace="structure text/output">Body Text</p>

      <tal:listings tal:define="listings view/listings | nothing;
                                batching view/batching | nothing;"
                    tal:condition="listings">

        <div class="listingBar" tal:condition="batching">
          <span class="previous"
                tal:condition="batching/prev | nothing"><a href=""
                tal:attributes="href batching/prev">Previous Results</a></span>
          <span class="next"
                tal:condition="batching/next | nothing"><a href=""
                tal:attributes="href batching/next">Next Results</a></span>
        </div>

        <div class="tileItem visualIEFloatFix" style="margin-bottom: 1em;"
             tal:repeat="listing listings">
          <h2 class="tileHeadline"><a href="" class="summary url"
              tal:attributes="href string:${page_url}/${listing/id/value}"
              tal:content="listing/title/value">Listing Title</a></h2>

          <figure tal:define="image listing/lead_image | nothing">
            <a href="" tal:attributes="href string:${page_url}/${listing/id/value};
                                       title listing/title/value"><img src="" alt=""
                       tal:condition="image"
                       tal:attributes="src image" /><img
                       tal:condition="not:image" alt="" title=""
                       src="++resource++plone.mls.listing.images/no-image.png" /></a>
            <figcaption>
              <small tal:content="listing/title/value">Caption</small>
            </figcaption>
          </figure>

          <section>
            <dl>
              <tal:item tal:define="item listing/price | nothing" tal:condition="item">
                <dt class="row"><span tal:replace="item/label">Label</span>:</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>

              <tal:item tal:define="item listing/workflow_status | nothing" tal:condition="item">
                <dt><span tal:replace="item/label">Label</span>:</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>

              <tal:item tal:define="item listing/listing_type | nothing" tal:condition="item">
                <dt class="row"><span tal:replace="item/label">Label</span>:</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>

              <tal:item tal:define="item listing/image_count | nothing" tal:condition="item">
                <dt><span tal:replace="item/label">Label</span>:</dt>
                <dd tal:content="item/value" tal:attributes="class item/value">Value</dd>
              </tal:item>

              <tal:item tal:define="item listing/object_type | nothing" tal:condition="item">
                <dt class="row"><span tal:replace="item/label">Label</span>:</dt>
                <dd tal:content="item/value">Value</dd>
              </tal:item>

              <tal:item tal:define="item listing/beds_baths | nothing" tal:condition="item">
                <dt class="column_two"><span tal:replace="item/label">Label</span>:</dt>
                <dd class="column_two" tal:content="item/value">Value</dd>
              </tal:item>

              <tal:item tal:define="item listing/location | nothing" tal:condition="item">
                <dt class="row"><span tal:replace="item/label">Label</span>:</dt>
                <dd class="full" tal:content="item/value">Value</dd>
              </tal:item>

              <tal:item tal:define="item listing/location_type | nothing" tal:condition="item">
                <dt class="row"><span tal:replace="item/label">Label</span>:</dt>
                <dd class="full" tal:content="item/value">Value</dd>
              </tal:item>

              <tal:item tal:define="item listing/view_type | nothing" tal:condition="item">
                <dt class="row"><span tal:replace="item/label">Label</span>:</dt>
                <dd class="full" tal:content="item/value">Value</dd>
              </tal:item>
            </dl>
          </section>

          <div class="visualClear"></div>
        </div>

        <div class="listingBar" tal:condition="batching">
          <span class="previous"
                tal:condition="batching/prev | nothing"><a href=""
                tal:attributes="href batching/prev">Previous Results</a></span>
          <span class="next"
                tal:condition="batching/next | nothing"><a href=""
                tal:attributes="href batching/next">Next Results</a></span>
        </div>
      </tal:listings>

      <div tal:replace="structure provider:plone.belowcontentbody" />
    </section>
  </body>
</html>